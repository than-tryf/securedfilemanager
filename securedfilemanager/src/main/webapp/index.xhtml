<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html">
 

  <h:head profile="http://gmpg.org/xfn/11">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Secured File Manager</title>

    <style type="text/css">
      @IMPORT url("style/style.css");
    </style>

  </h:head>

  <h:body>

    <div id="blueBar" >
      <div id="globalContainer">
        <div id="globalHeader">
          <span id="globalHeaderTitle">#{welcomeBean.message}</span>
          <form id="searchForm" action="#" method="get">
            <div id="globalHeaderSearch">
              <input id="globalHeaderSearchInput" type="text" name="searchRequest" />
              <div id="globalHeaderSearchButtonContainer">
                <input id="globalHeaderSearchButton" type="submit" value=" " />
              </div>
            </div>
          </form>
        </div>
        <div id="globalContent">
          <div id="resourcesContainer">
            <div id="resourcesHeader">
              <span id="resourcesTitle">/public/works/</span>
            </div>
            <h:form>
<!--           <div id="resourcesContent">
              <table id="resourcesDatagrid">
                <tr><th id="resourceNameHeader">Name</th><th id="resourceSizeHeader">Size</th><th id="resourceModificationDateHeader">Last modification</th><th id="resourceDescriptionHeader">Description</th></tr>
                <tr><td><span class="parent"><a href="#">..</a></span></td><td/><td/></tr>
                <tr><td><span class="folder"><a href="#">jsf</a></span></td><td/><td class="resourceRowData">03-07-2011:09h00</td><td/></tr>
                <tr><td><span class="folder"><a href="#">spring</a></span></td><td/><td class="resourceRowData">24-08-2010:20h12</td><td></td></tr>
                <tr><td><span class="file"><a href="#">tata.txt</a></span></td><td class="resourceRowData">102 ko</td><td class="resourceRowData">10-05-2011:13h26</td></tr>
                <tr><td><span class="file"><a href="#">toto.xml</a></span></td><td class="resourceRowData">1,3 mo</td><td class="resourceRowData">07-07-2011:12h50</td></tr>
              </table>
            </div>-->
            <div id="resourcesContent">
                <h:dataTable id="resourcesDatagrid" value="#{explorerController.resources}"  var="item" 
                            columnClasses="resourceNameColumn,resourceSizeColumn,resourceModificationDateColumn,resourceDescriptionColumn">
                  <h:column id="nameColumn">
                    <f:facet name="header">
                      <h:outputLabel value="Name" />
                    </f:facet>
                    <h:commandLink styleClass="#{item.styleClass}" action="#{explorerController.processResource}" >
                       <f:param name="resourceId" value="#{item.id}" />
                       <h:outputText value="#{item.name}"/>
                    </h:commandLink>
                  </h:column>
                  <h:column id="sizeColumn">
                    <f:facet name="header">
                      <h:outputLabel value="Size" />
                    </f:facet>
                    <h:outputText value="#{item.formattedSize}" rendered="#{item.isFile}"/>
                  </h:column>
                  <h:column id="modificationDateColumn">
                    <f:facet name="header">
                      <h:outputLabel value="Modification date" />
                    </f:facet>
                    <h:outputText value="#{item.modificationDate}" />
                  </h:column>
                  <h:column id="descriptionColumn">
                    <f:facet name="header">
                      <h:outputLabel value="Description" />
                    </f:facet>
                   <h:outputText value="" />
                 </h:column>
               </h:dataTable>
              </div>
            </h:form>
          </div>
        </div>
        <div id="globalFooter">
          <span id="globalFooterGenerationMetadata">Generated in 0.135s</span>
        </div>
      </div>
    </div>
  </h:body>

</html>